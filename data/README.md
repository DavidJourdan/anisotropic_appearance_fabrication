# Data files organization

## Folders

- `gcode`: Input file for printers, representing one or several layers of the
  oriented cycle.
- `hamiltonian_cycle`: Data relative to the [code of Bedel et al.
  2022](https://github.com/mfx-inria/controllable-space-filling-curve).
- `log`: Log files written during the execution of the `tools/fill_2d_shape.py`
  script.
- `np`: Contain NumPy arrays generated by the scripts.
- `paths`: `tools/cycle_to_txt.py` generates paths in this folder. 
- `png`: Images in `png` format. Contain the direction mode maps.
- `svg`: Contain the 2D shapes represented with `svg` files.
- `vtk`: Data, e.g., signed-distance fields, saved in the `vtk` format:
  [https://vtk.org/](https://vtk.org/). Generated by the `tools/fill_2d_shape.py`
  script.

## Files

Input parameters in `json`.

# Input description

The input for the script `tools/fill_2d_shape.py` is a `json` file containing all the input parameters.

## Parameter description

|Parameter name                |Type   |Description|
|------------------------------|-------|-----------|
|`nozzle_width`                |`float`|The width of the nozzle hole.|
|`svg_path`                    |`str`  |The path to the 2D shape represented by a `svg` file.|
|`line_field_path`             |`str`  |The path to the line field represented as a `png` file with 8 bits per pixel. The black (0), white (255), and grays [1, 254] in the grayscale image represent the line orientations of $-pi/2$, $pi/2$, and the interpolation of these extreme angles. In the article, it is referred to the color gradient area of the direction mode map.|
|`line_mode_field_path`        |`str`  |The path to the line mode field represented as a `png` file with 8 bits per pixel. The black (0), deep gray (84), bright grey (168), and white (255) in the grayscale image represent the line/direction modes *parallel to the boundary*, *orthogonal to the boundary*, *smoothest*, and *constrained*, respectively. In the article, it is referred to the direction mode map, but without the color gradient area.|
|`perimeter_count`             |`int`  | The desired number of perimeters of the 2D shape. It implicitly defines an area's width inside the 2D shape next to the boundary. In this area, the trajectories are constrained to be as smooth as possible and parallel to the boundary. The width equals `perimeter_count` times `nozzle_width`. This parameter and feature are not described in the article.|
|`alignment_iter_per_level`    |`int`  | The number of alignment/optimization iterations per level. See Section 5.7 of the article.|
|`seed`                        |`int`  | The seed is used for randomly positioning the points discretizing the shape's domain.|
|`force_sdf_computation`       |`bool` | If true, the parameters forces the signed distance field (SDF) computation. The algorithm will not compute the SDF if the parameter is false and if the signed distance field is cached.|
|`repulse_curves`              |`bool` | If true, repulse the curves. See Section 5.6 of the paper.|
|`layer_height_rt_nozzle_width`|`float`| Layer height relative to the nozzle width, i.e., the width as a percentage of the nozzle width.|

# License

The content of the data folder is under the CC0 license. See [LICENSE](LICENSE) for more details.
